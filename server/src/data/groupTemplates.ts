type GroupTemplate = {
  id: string;
  name: string;
  category: string;
  description: string;
  symbols: string[];
};

type TemplateSeed = {
  name: string;
  category: string;
  description: string;
  symbols: string[];
};

const TEMPLATE_LIMIT = 100;
const CHUNK_SIZE = 3;

const templateSeeds: TemplateSeed[] = [
  {
    name: "Mega-cap Platforms",
    category: "Technology",
    description: "Largest US tech platforms.",
    symbols: [
      "AAPL",
      "MSFT",
      "NVDA",
      "GOOGL",
      "AMZN",
      "META",
      "ORCL",
      "ADBE",
      "CRM",
      "NOW",
      "INTU",
      "CSCO",
      "IBM",
      "QCOM",
      "AMD",
    ],
  },
  {
    name: "Software Platforms",
    category: "Technology",
    description: "Enterprise software and SaaS leaders.",
    symbols: [
      "MSFT",
      "ADBE",
      "CRM",
      "NOW",
      "INTU",
      "SNOW",
      "WDAY",
      "ORCL",
      "MDB",
      "DDOG",
      "PLTR",
      "PANW",
      "CRWD",
      "ZS",
      "FTNT",
    ],
  },
  {
    name: "Semiconductor Leaders",
    category: "Technology",
    description: "US-listed chip leaders.",
    symbols: [
      "NVDA",
      "AVGO",
      "AMD",
      "QCOM",
      "INTC",
      "TXN",
      "ADI",
      "MRVL",
      "ON",
      "MPWR",
      "MCHP",
      "AMAT",
      "LRCX",
      "KLAC",
      "TER",
    ],
  },
  {
    name: "Hardware & Devices",
    category: "Technology",
    description: "Devices, hardware, and peripherals.",
    symbols: [
      "AAPL",
      "HPQ",
      "DELL",
      "HPE",
      "LOGI",
      "ZBRA",
      "NTAP",
      "PURE",
      "WDC",
      "STX",
      "MU",
      "ANET",
      "JNPR",
      "CSCO",
      "SMCI",
    ],
  },
  {
    name: "Communications Platforms",
    category: "Communication Services",
    description: "Communication and media platforms.",
    symbols: [
      "GOOGL",
      "META",
      "NFLX",
      "DIS",
      "CMCSA",
      "WBD",
      "FOXA",
      "PARA",
      "T",
      "VZ",
      "TMUS",
      "PINS",
      "ROKU",
      "EA",
      "TTWO",
    ],
  },
  {
    name: "Digital Advertising",
    category: "Communication Services",
    description: "Digital advertising platforms.",
    symbols: [
      "GOOGL",
      "META",
      "TTD",
      "ROKU",
      "PINS",
      "SNAP",
      "MGNI",
      "PUBM",
      "IPG",
      "NFLX",
      "CMCSA",
      "DIS",
      "WBD",
      "NWSA",
      "NYT",
    ],
  },
  {
    name: "Money Center Banks",
    category: "Financials",
    description: "Large US banks and brokers.",
    symbols: [
      "JPM",
      "BAC",
      "C",
      "WFC",
      "GS",
      "MS",
      "SCHW",
      "PNC",
      "USB",
      "TFC",
      "COF",
      "DFS",
      "SYF",
      "ALLY",
      "KEY",
    ],
  },
  {
    name: "Payments & Fintech",
    category: "Financials",
    description: "Payments and fintech leaders.",
    symbols: [
      "V",
      "MA",
      "AXP",
      "PYPL",
      "SQ",
      "FIS",
      "FI",
      "GPN",
      "HOOD",
      "SOFI",
      "AFRM",
      "UPST",
      "COF",
      "PAYC",
      "PAYX",
    ],
  },
  {
    name: "Insurance & Asset Managers",
    category: "Financials",
    description: "Insurance and asset management.",
    symbols: [
      "PGR",
      "TRV",
      "ALL",
      "CB",
      "AIG",
      "MET",
      "PRU",
      "AFL",
      "BLK",
      "BX",
      "KKR",
      "TROW",
      "AMP",
      "AON",
      "MMC",
    ],
  },
  {
    name: "Pharma Leaders",
    category: "Healthcare",
    description: "Large pharmaceutical leaders.",
    symbols: [
      "LLY",
      "JNJ",
      "PFE",
      "MRK",
      "BMY",
      "ABBV",
      "AMGN",
      "GILD",
      "VRTX",
      "REGN",
      "BIIB",
      "ZTS",
      "MRNA",
      "INCY",
      "BMRN",
    ],
  },
  {
    name: "Biotech & Devices",
    category: "Healthcare",
    description: "Biotech and medical device leaders.",
    symbols: [
      "ISRG",
      "BSX",
      "ABT",
      "MDT",
      "SYK",
      "ZBH",
      "ALGN",
      "TMO",
      "DHR",
      "ILMN",
      "WAT",
      "DXCM",
      "IDXX",
      "COO",
      "HCA",
    ],
  },
  {
    name: "Healthcare Services",
    category: "Healthcare",
    description: "Healthcare services and distribution.",
    symbols: [
      "UNH",
      "HUM",
      "CI",
      "ELV",
      "CNC",
      "MCK",
      "CAH",
      "ABC",
      "DGX",
      "LH",
      "HCA",
      "UHS",
      "TDOC",
      "VEEV",
      "CERN",
    ],
  },
  {
    name: "Retail & E-commerce",
    category: "Consumer Discretionary",
    description: "Retail and e-commerce leaders.",
    symbols: [
      "AMZN",
      "WMT",
      "TGT",
      "COST",
      "HD",
      "LOW",
      "TJX",
      "ROST",
      "BURL",
      "BBY",
      "ULTA",
      "DG",
      "DLTR",
      "EBAY",
      "ETSY",
    ],
  },
  {
    name: "Autos & Mobility",
    category: "Consumer Discretionary",
    description: "Autos and mobility leaders.",
    symbols: [
      "TSLA",
      "GM",
      "F",
      "RIVN",
      "LCID",
      "BWA",
      "MGA",
      "APTV",
      "LEA",
      "ALV",
      "UBER",
      "LYFT",
      "DASH",
      "BKNG",
      "ABNB",
    ],
  },
  {
    name: "Restaurants & Leisure",
    category: "Consumer Discretionary",
    description: "Restaurants and leisure brands.",
    symbols: [
      "MCD",
      "SBUX",
      "CMG",
      "YUM",
      "DPZ",
      "MAR",
      "HLT",
      "RCL",
      "NCLH",
      "CCL",
      "LVS",
      "MGM",
      "WYNN",
      "CZR",
      "DIS",
    ],
  },
  {
    name: "Food & Beverage",
    category: "Consumer Staples",
    description: "Food and beverage leaders.",
    symbols: [
      "KO",
      "PEP",
      "MNST",
      "KDP",
      "STZ",
      "KHC",
      "GIS",
      "K",
      "CPB",
      "MKC",
      "TSN",
      "HSY",
      "SJM",
      "MDLZ",
      "KMB",
    ],
  },
  {
    name: "Household & Retail Staples",
    category: "Consumer Staples",
    description: "Household and staple retailers.",
    symbols: [
      "PG",
      "CL",
      "CHD",
      "KMB",
      "MO",
      "PM",
      "WMT",
      "COST",
      "KR",
      "ACI",
      "DG",
      "DLTR",
      "BJ",
      "CHWY",
      "IDXX",
    ],
  },
  {
    name: "Aerospace & Defense",
    category: "Industrials",
    description: "Aerospace and defense leaders.",
    symbols: [
      "LMT",
      "NOC",
      "RTX",
      "GD",
      "BA",
      "LHX",
      "TDG",
      "HEI",
      "GE",
      "HII",
      "TXT",
      "SPR",
      "BWXT",
      "LDOS",
      "KTOS",
    ],
  },
  {
    name: "Industrial Machinery",
    category: "Industrials",
    description: "Machinery and industrials.",
    symbols: [
      "CAT",
      "DE",
      "PCAR",
      "CNH",
      "AGCO",
      "HON",
      "MMM",
      "EMR",
      "ITW",
      "ROK",
      "IR",
      "SWK",
      "SNA",
      "FAST",
      "GWW",
    ],
  },
  {
    name: "Transport & Logistics",
    category: "Industrials",
    description: "Transport and logistics leaders.",
    symbols: [
      "UNP",
      "CSX",
      "NSC",
      "UPS",
      "FDX",
      "ODFL",
      "JBHT",
      "CHRW",
      "EXPD",
      "DAL",
      "UAL",
      "AAL",
      "LUV",
      "AER",
      "ALK",
    ],
  },
  {
    name: "Energy Leaders",
    category: "Energy",
    description: "Oil & gas leaders.",
    symbols: [
      "XOM",
      "CVX",
      "COP",
      "EOG",
      "OXY",
      "PXD",
      "DVN",
      "FANG",
      "HES",
      "MRO",
      "SLB",
      "HAL",
      "BKR",
      "VLO",
      "MPC",
    ],
  },
  {
    name: "Energy Infrastructure",
    category: "Energy",
    description: "Midstream and services.",
    symbols: [
      "KMI",
      "WMB",
      "OKE",
      "TRGP",
      "LNG",
      "FLNG",
      "ENPH",
      "FSLR",
      "NXT",
      "AES",
      "NEE",
      "NRG",
      "CEG",
      "BTU",
      "ARCH",
    ],
  },
  {
    name: "Materials & Chemicals",
    category: "Materials",
    description: "Materials and chemicals leaders.",
    symbols: [
      "LIN",
      "APD",
      "DD",
      "DOW",
      "LYB",
      "SHW",
      "ECL",
      "IFF",
      "ALB",
      "NEM",
      "FCX",
      "NUE",
      "STLD",
      "VMC",
      "MLM",
    ],
  },
  {
    name: "Metals & Mining",
    category: "Materials",
    description: "Metals and mining leaders.",
    symbols: [
      "FCX",
      "SCCO",
      "AA",
      "X",
      "CLF",
      "NEM",
      "NUE",
      "STLD",
      "FMC",
      "CF",
      "MOS",
      "ALB",
      "LTHM",
      "BWXT",
      "UEC",
    ],
  },
  {
    name: "Utilities Leaders",
    category: "Utilities",
    description: "US utilities leaders.",
    symbols: [
      "NEE",
      "DUK",
      "SO",
      "AEP",
      "EXC",
      "SRE",
      "ED",
      "PEG",
      "XEL",
      "CEG",
      "NRG",
      "VST",
      "AWK",
      "WTRG",
      "AES",
    ],
  },
  {
    name: "Grid & Power Equipment",
    category: "Utilities",
    description: "Grid modernization leaders.",
    symbols: [
      "ETN",
      "HUBB",
      "PWR",
      "GE",
      "EMR",
      "GNRC",
      "ROK",
      "CSCO",
      "ANET",
      "SMCI",
      "TT",
      "JCI",
      "MAS",
      "FBHS",
      "AZEK",
    ],
  },
];

const slugify = (value: string) =>
  value
    .toLowerCase()
    .trim()
    .replace(/[^a-z0-9]+/g, "-")
    .replace(/(^-|-$)/g, "");

const chunkSymbols = (symbols: string[], size: number) => {
  const chunks: string[][] = [];
  for (let i = 0; i < symbols.length; i += size) {
    chunks.push(symbols.slice(i, i + size));
  }
  return chunks;
};

const generatedTemplates = templateSeeds.flatMap((seed) => {
  const chunks = chunkSymbols(seed.symbols, CHUNK_SIZE);
  return chunks.map((chunk, index) => {
    const suffix = chunks.length > 1 ? ` ${index + 1}` : "";
    return {
      id: slugify(`${seed.category}-${seed.name}-${index + 1}`),
      name: `${seed.name}${suffix}`,
      category: seed.category,
      description: seed.description,
      symbols: chunk,
    };
  });
});

export const groupTemplates: GroupTemplate[] = generatedTemplates.slice(0, TEMPLATE_LIMIT);

export type { GroupTemplate };
